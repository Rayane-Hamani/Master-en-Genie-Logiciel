#ifndef __SUPERBLOCK_H__
#define __SUPERBLOCK_H__



struct superblock
{
    unsigned int serial_number;
    char name[32];

    unsigned int magic;

    unsigned int root_block;
    unsigned int first_free_block;
    unsigned int nb_free_blocks;
};

struct free_block
{
    unsigned int size; /* in blocks */
    unsigned int next; /* the next free block */
};

extern struct superblock superblock;
extern unsigned int current_volume;



void init_volume(unsigned int vol);

int load_super(unsigned int vol);
void save_super();

unsigned int new_bloc();
void free_bloc(unsigned int bloc);



#endif