#ifndef __DRIVE_H__
#define __DRIVE_H__



/* Paramètres du controlleur IDE */
#define ENABLE_HDA     1       /* ENABLE_HD = 0 => simulation du disque désactivée  */
#define HDA_CMDREG     0x3F6   /* Registre de commande du disque maitre             */
#define HDA_DATAREGS   0x110   /* Base des registres de données (r,r+1,r+2,...r+15) */
#define HDA_IRQ        14      /* Interruption du disque                            */

/* Paramètres additionels du disque (Utilisez la commande dsknfo pour obtenir ces infos) */
#define HDA_MAXCYLINDER   16    /* Nombre de pistes du disque maître               */
#define HDA_MAXSECTOR     16    /* Nombre de secteurs du disque maître             */
#define HDA_SECTORSIZE    256   /* Taille (en octet) d'un secteur du disque maître */



#define MSBIT(value)   (value & 0xFF00) >> 8
#define LSBIT(value)   (value & 0x00FF)



void seek_sector(unsigned int cylinder, unsigned int sector);
void read_sector(unsigned int cylinder, unsigned int sector, unsigned char* buffer);
void write_sector(unsigned int cylinder, unsigned int sector, const unsigned char* buffer);
void format_sector(unsigned int cylinder, unsigned int sector, unsigned int nsector, unsigned int value);



#endif