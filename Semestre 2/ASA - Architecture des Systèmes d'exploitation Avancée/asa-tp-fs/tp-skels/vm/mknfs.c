#include <stdio.h>
#include <stdlib.h>

#include "drive.h"
#include "mbr.h"
#include "superblock.h"



int main()
{
    if(mbr.nvol != 0)
    {
        printf("Enter a volume between 0 and %d : ", mbr.nvol-1);
        scanf("%d", &current_volume);
        fflush(stdout);
    }

    /*  Check for those potential errors : 
     *  - if there is no volume where to create the new filesystem
     *  - if the volume provided does not exist
     */

    else
    {
        printf("There is no volume yet.\n");
        return EXIT_FAILURE;
    }

    if(current_volume >= MAX_VOL)
    {
        printf("The volume does not exist.\n");
        return EXIT_FAILURE;
    }

    init_volume(current_volume);
    save_super();

    printf("The filesystem has been created.\n");

    return EXIT_SUCCESS;
}